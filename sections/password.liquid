{% comment %}
  Password Page Section
  Displayed when store is password protected
{% endcomment %}

<div class="u-section u-theme-light password_page">
  <div data-wf--spacer--variant="large" class="u-section-spacer w-variant-8cc18b30-4618-8767-0111-f6abfe45aaa3 u-ignore-trim"></div>
  <div class="u-container">
    <div class="u-alignment-center">
      {%- if section.settings.logo != blank -%}
        <img
          src="{{ section.settings.logo | image_url: width: 200 }}"
          alt="{{ shop.name }}"
          class="password_logo u-margin-bottom-6"
          width="200"
        >
      {%- else -%}
        <h1 class="u-text-style-display u-margin-bottom-4">{{ shop.name }}</h1>
      {%- endif -%}

      <h2 class="u-text-style-h2 u-margin-bottom-4">{{ section.settings.heading }}</h2>
      <p class="u-text-style-large u-margin-bottom-6">{{ section.settings.description }}</p>

      {%- form 'storefront_password', class: 'password_form' -%}
        <div class="form_group u-margin-bottom-4">
          <label for="Password" class="u-sr-only">{{ 'general.password_page.login_form_heading' | t }}</label>
          <input
            type="password"
            name="password"
            id="Password"
            class="form_input"
            placeholder="{{ 'general.password_page.login_form_heading' | t }}"
            autofocus
          >
        </div>

        {%- if form.errors -%}
          <div class="form_error u-margin-bottom-4">
            {{ form.errors | default_errors }}
          </div>
        {%- endif -%}

        <button type="submit" class="button_main_wrap" data-wf--button-main--variant="primary" data-button=" ">
          <div class="button_main_element">
            <div class="button_main_text u-text-style-small">{{ 'general.password_page.login_password_button' | t }}</div>
            <div class="button_main_line"></div>
          </div>
        </button>
      {%- endform -%}

      {%- if shop.password_message != blank -%}
        <div class="password_message u-text-style-main u-margin-top-6">
          {{ shop.password_message }}
        </div>
      {%- endif -%}
    </div>
  </div>
  <div data-wf--spacer--variant="large" class="u-section-spacer w-variant-8cc18b30-4618-8767-0111-f6abfe45aaa3 u-ignore-trim"></div>
</div>

{% schema %}
{
  "name": "Password Page",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Coming Soon"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "We're working on something exciting. Enter password to access the store."
    }
  ]
}
{% endschema %}
